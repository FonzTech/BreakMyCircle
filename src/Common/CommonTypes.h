#pragma once

#define RESOURCE_SCENE_BUBBLE "scenes/bubble.glb"
#define RESOURCE_SCENE_LOGO "scenes/logo.glb"
#define RESOURCE_SCENE_LEVEL_BUTTON "scenes/level_button.glb"
#define RESOURCE_SCENE_LEVEL_GLOW "scenes/level_glow.glb"
#define RESOURCE_SCENE_COIN "scenes/coin.glb"
#define RESOURCE_SCENE_BOMB "scenes/bomb.glb"
#define RESOURCE_SCENE_STONE "scenes/stone.glb"
#define RESOURCE_SCENE_CANNON_1 "scenes/cannon_1.glb"
#define RESOURCE_SCENE_WORLD_1 "scenes/world_1.glb"
#define RESOURCE_SCENE_WORLD_2 "scenes/world_2.glb"
#define RESOURCE_SCENE_WORLD_3 "scenes/world_3.glb"
#define RESOURCE_SCENE_WORLD_4 "scenes/world_4.glb"
#define RESOURCE_SCENE_WORLD_WALL "scenes/world_wall.glb"
#define RESOURCE_SCENE_SAFE "scenes/safe.glb"
#define RESOURCE_SCENE_POWERUP "scenes/powerup.glb"
#define RESOURCE_SCENE_SPARKLE "scenes/sparkle.glb"

#define RESOURCE_MESH_PLANE_SPRITE "mesh_plane_sprite"
#define RESOURCE_MESH_PLANE_WATER "mesh_plane_water"
#define RESOURCE_MESH_SAND_FLOOR "mesh_plane_sand_floor"
#define RESOURCE_MESH_PLANE_FLAT "mesh_plane_flat"
#define RESOURCE_MESH_PLANE_PLASMA "mesh_plane_plasma"
#define RESOURCE_MESH_CUBE "mesh_plane_cube"

#define RESOURCE_TEXTURE_EXPLOSION "explosion"
#define RESOURCE_TEXTURE_LIGHTNING "lightning"
#define RESOURCE_TEXTURE_LIGHTORB "lightorb"
#define RESOURCE_TEXTURE_BLACKHOLE_BG "blackhole_bg"
#define RESOURCE_TEXTURE_BLACKHOLE_FG "blackhole_fg"
#define RESOURCE_TEXTURE_BUBBLE_RED "bubble_red"
#define RESOURCE_TEXTURE_BUBBLE_GREEN "bubble_green"
#define RESOURCE_TEXTURE_BUBBLE_BLUE "bubble_blue"
#define RESOURCE_TEXTURE_BUBBLE_YELLOW "bubble_yellow"
#define RESOURCE_TEXTURE_BUBBLE_ORANGE "bubble_orange"
#define RESOURCE_TEXTURE_BUBBLE_PURPLE "bubble_purple"
#define RESOURCE_TEXTURE_BUBBLE_CYAN "bubble_cyan"
#define RESOURCE_TEXTURE_BUBBLE_TRANSLUCENT "bubble_translucent"
#define RESOURCE_TEXTURE_SKYBOX_1_PX "skybox_1_px"
#define RESOURCE_TEXTURE_WATER_DISPLACEMENT "water_dm"
#define RESOURCE_TEXTURE_WATER_TEXTURE "water_tm"
#define RESOURCE_TEXTURE_WORLD_1_WEM "world_1_wem"
#define RESOURCE_TEXTURE_GLOW "glow"
#define RESOURCE_TEXTURE_CUBEMAP_SKYBOX_1 "cubemap_skybox_1"
#define RESOURCE_TEXTURE_STARROAD_ALPHAMAP "starroad_am"
#define RESOURCE_TEXTURE_MOON "moon"
#define RESOURCE_TEXTURE_FIRE "fire"
#define RESOURCE_TEXTURE_SWAP "swap"
#define RESOURCE_TEXTURE_SHOOT_PATH "shoot_path"
#define RESOURCE_TEXTURE_GUI_SETTINGS "gui_settings"
#define RESOURCE_TEXTURE_GUI_REPLAY "gui_replay"
#define RESOURCE_TEXTURE_GUI_NEXT "gui_next"
#define RESOURCE_TEXTURE_GUI_SHARE "gui_share"
#define RESOURCE_TEXTURE_GUI_EXIT "gui_exit"
#define RESOURCE_TEXTURE_GUI_BGMUSIC_ON "gui_bgmusic_on"
#define RESOURCE_TEXTURE_GUI_BGMUSIC_OFF "gui_bgmusic_off"
#define RESOURCE_TEXTURE_GUI_SFX_ON "gui_sfx_on"
#define RESOURCE_TEXTURE_GUI_SFX_OFF "gui_sfx_off"
#define RESOURCE_TEXTURE_GUI_LEVEL_PANEL "gui_level_panel"
#define RESOURCE_TEXTURE_GUI_STAR "gui_star"
#define RESOURCE_TEXTURE_GUI_BACK_ARROW "gui_back_arrow"
#define RESOURCE_TEXTURE_GUI_PLAY "gui_play"
#define RESOURCE_TEXTURE_GUI_COIN "gui_coin"
#define RESOURCE_TEXTURE_GUI_TIME "gui_time"
#define RESOURCE_TEXTURE_GUI_SCROLL_BACK "gui_scroll_back"
#define RESOURCE_TEXTURE_GUI_BUTTON_2X1 "gui_button_2x1"
#define RESOURCE_TEXTURE_GUI_BUTTON_4X1 "gui_button_4x1"
#define RESOURCE_TEXTURE_GUI_PU_BOMB "gui_pu_bomb"
#define RESOURCE_TEXTURE_GUI_PU_PLASMA "gui_pu_plasma"
#define RESOURCE_TEXTURE_GUI_PU_TIME "gui_pu_time"
#define RESOURCE_TEXTURE_GUI_PU_ELECTRIC "gui_pu_electric"
#define RESOURCE_TEXTURE_GUI_CONGRATS "gui_congrats"
#define RESOURCE_TEXTURE_GUI_SAD "gui_sad"
#define RESOURCE_TEXTURE_GUI_HAPPY "gui_happy"
#define RESOURCE_TEXTURE_GUI_HELP "gui_help"
#define RESOURCE_TEXTURE_GUI_LOADING "gui_loading"
#define RESOURCE_TEXTURE_GUI_TEXTCLOUD "gui_textcloud"
#define RESOURCE_TEXTURE_GUI_OB_PREFIX "gui_ob_o"
#define RESOURCE_TEXTURE_WHITE "white"

#define RESOURCE_SHADER_COLORED_PHONG "shader_colored_phong"
#define RESOURCE_SHADER_COLORED_PHONG_2 "shader_colored_phong_2"
#define RESOURCE_SHADER_TEXTURED_PHONG_DIFFUSE "shader_textured_phong"
#define RESOURCE_SHADER_TEXTURED_PHONG_DIFFUSE_2 "shader_textured_phong_2"
#define RESOURCE_SHADER_SPRITE "shader_sprite"
#define RESOURCE_SHADER_WATER "shader_water"
#define RESOURCE_SHADER_STARROAD "shader_starroad"
#define RESOURCE_SHADER_CUBEMAP "shader_cubemap"
#define RESOURCE_SHADER_FLAT3D "shader_flat3d"
#define RESOURCE_SHADER_PLASMA "shader_plasma"
#define RESOURCE_SHADER_SUN "shader_sun"
#define RESOURCE_SHADER_SHOOT_PATH "shader_shoot_path"
#define RESOURCE_SHADER_DISTANCE_FIELD_VECTOR "shader_distance_field_vector"

#define RESOURCE_FONT_UBUNTU_TITLE "ubuntu-title"

#define RESOURCE_AUDIO_BUBBLE_STOMP "bubble_stomp"
#define RESOURCE_AUDIO_BUBBLE_POP "bubble_pop"
#define RESOURCE_AUDIO_BUBBLE_FALL "bubble_fall"
#define RESOURCE_AUDIO_SHOT_PREFIX "shot_"
#define RESOURCE_AUDIO_SHOT_WIN "end_win"
#define RESOURCE_AUDIO_SHOT_LOSE "end_lose"
#define RESOURCE_AUDIO_COIN "coin"
#define RESOURCE_AUDIO_WRONG "wrong"
#define RESOURCE_AUDIO_POWERUP "powerup"
#define RESOURCE_AUDIO_EXPLOSION "explosion"
#define RESOURCE_AUDIO_STONE "stone"
#define RESOURCE_AUDIO_PAUSE_IN "pause_in"
#define RESOURCE_AUDIO_PAUSE_OUT "pause_out"
#define RESOURCE_AUDIO_ELECTRIC "electric"
#define RESOURCE_AUDIO_STAR_PREFIX "star_"
#define RESOURCE_AUDIO_CONGRATS_PREFIX "congrats_"
#define RESOURCE_AUDIO_SAFE_OPEN "safe_open"
#define RESOURCE_AUDIO_GLORY "glory"
#define RESOURCE_AUDIO_SWAP "swap"
#define RESOURCE_AUDIO_TIME "time"

#define RESOURCE_PATH_PREFIX "path_"
#define RESOURCE_PATH_NEW_SPHERE "new_sphere"

#define GOT_PLAYER 1
#define GOT_BUBBLE 2
#define GOT_PROJECTILE 3
#define GOT_FALLING_BUBBLE 4
#define GOT_SCENERY 5
#define GOT_LOGO 6
#define GOT_SKYBOX 7
#define GOT_OVERLAY_GUI 8
#define GOT_LEVEL_SELECTOR 9
#define GOT_OVERLAY_TEXT 10
#define GOT_OVERLAY_GUI_DETACHED 11
#define GOT_LIMIT_LINE 12
#define GOT_DIALOG 12
#define GOT_ELECTRIC_BALL 13
#define GOT_CONGRATS 14
#define GOT_MAPPICKUP 15
#define GOT_LEVEL_SELECTOR_SIDECAR 16
#define GOT_SAFE_MINIGAME 17
#define GOT_ONBOARDING 18

#if defined(CORRADE_TARGET_ANDROID) or defined(CORRADE_TARGET_IOS) or defined(CORRADE_TARGET_IOS_SIMULATOR)
#define TARGET_MOBILE
#endif

#if (defined(NDEBUG) or defined(_DEBUG)) and !(defined(DEBUG))
#define DEBUG
#endif

#include <Magnum/Magnum.h>
#include <Corrade/Containers/Array.h>
#include <Corrade/Containers/Optional.h>
#include <Magnum/SceneGraph/Camera.h>
#include <Magnum/SceneGraph/Drawable.h>
#include <Magnum/SceneGraph/MatrixTransformation3D.h>
#include <Magnum/SceneGraph/Scene.h>
#include <Magnum/Trade/PhongMaterialData.h>
#include <Magnum/GL/Mesh.h>
#include <Magnum/GL/Texture.h>

#ifdef CORRADE_TARGET_ANDROID
#include <Magnum/Platform/AndroidApplication.h>
#else
#include <Magnum/Platform/Sdl2Application.h>
#endif

using namespace Magnum;

typedef SceneGraph::Object<SceneGraph::MatrixTransformation3D> Object3D;
typedef SceneGraph::Scene<SceneGraph::MatrixTransformation3D> Scene3D;

typedef Platform::Application::MouseEvent::Button ImMouseButtons;

#ifdef CORRADE_TARGET_ANDROID
#define PRIMARY_BUTTON ImMouseButtons::None
#else
#define PRIMARY_BUTTON ImMouseButtons::Left
#endif

#ifndef CORRADE_TARGET_ANDROID
typedef Platform::Application::KeyEvent::Key ImKeyButtons;
#endif

typedef Containers::Array<Containers::Optional<GL::Mesh>> AssetMeshes;
typedef Containers::Array<Containers::Optional<GL::Texture2D>> AssetTextures;
typedef Containers::Array<Containers::Optional<Trade::PhongMaterialData>> AssetMaterials;

typedef std::vector<Vector3> LinePathAsset;
